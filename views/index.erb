<div class="content">
  <% if @todos.empty? %>
    <p>Your to-do list is empty.</p>
    <fieldset>
      <form method="post" action="/todos/">
        <input type="text" name="todo" id="todo" placeholder="e.g. call brother" autofocus required>
        <input type="submit" value="Add new item">
      </form>
    </fieldset>

  <% else %>
    <fieldset>
      <form method="post" action="/todos/">
        <input type="text" name="todo" id="todo" placeholder="e.g. call brother" autofocus required>
        <input type="submit" value="Add">
      </form>
    </fieldset>


    <% @status.each_with_index do |todoentry, index| %>
      <div class="todo">
        <% if todoentry[:completed] == true %>
          <p class="todo completed"><%= todoentry[:todo] %></p>
        <% else %>
          <p class="todo incomplete"><%= todoentry[:todo] %></p>
        <% end %>

        <div class="todo-options">
          <form method="get" action="/todos/<%= index %>/edit">
            <input class="amend-todo" type="submit" value="📝 Edit">
          </form>

          <form method="post" action="/todos/<%= index %>/complete">
            <input type="hidden" name="_method" value="put" />
            <input class="amend-todo" type="submit" value="✅ Done">
          </form>

          <form method="post" action="/todos/<%= index %>/incomplete">
            <input type="hidden" name="_method" value="put" />
            <input class="amend-todo" type="submit" value="❌ Not done">
          </form>

          <form method="post" action="/todos/<%= index %>">
            <input type="hidden" name="_method" value="delete" />
            <input class="amend-todo" type="submit" value="🗑️ Delete">
          </form>

        </div>
      </div>
    <% end %>

  <% end %>
</div>
